(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{5263:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(95155),r=a(12115),l=a(33168),i=a(28935);function n(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[d,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{c(new Date(new Date().getTime()-864e5),new Date)},[]);let c=async(e,a)=>{try{n(!0);let s=await (0,l.Od)(e,a);t(s),o(null)}catch(e){console.error("Error fetching sensor history:",e),o("Failed to load sensor history. Please try again later.")}finally{n(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Health Records"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.length," readings found"]})]}),a&&0===e.length?(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d?(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a&&(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white bg-opacity-60 flex justify-center py-4",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),(0,s.jsx)(i.H,{data:e,onTimeRangeChange:c}),0===e.length&&!a&&(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No data available for the selected time range"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Understanding Your Records"}),(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:"This page allows you to view and analyze your health data over time. Use the filters to select different time periods and sensor types to visualize trends and patterns."}),(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Tips for Data Analysis"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[(0,s.jsx)("li",{children:"Look for patterns in your data over time"}),(0,s.jsx)("li",{children:"Compare different time periods (e.g., day vs. night)"}),(0,s.jsx)("li",{children:"Note any correlations between different measurements"}),(0,s.jsx)("li",{children:"Track how lifestyle changes affect your readings"}),(0,s.jsx)("li",{children:"Share significant findings with your healthcare provider"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Data Export"}),(0,s.jsx)("p",{className:"text-gray-700",children:"You can download your data as a PDF report using the Reports feature in the navigation menu. This is useful for sharing information with healthcare providers."})]})]})]})]})}},28935:(e,t,a)=>{"use strict";a.d(t,{A:()=>h,H:()=>x});var s=a(95155),r=a(12115),l=a(83540),i=a(56965),n=a(94754),d=a(96025),o=a(16238),c=a(94517),m=a(24026),u=a(21374);function h(e){let{data:t,sensorType:a,title:r,color:h="#8884d8",unit:x=""}=e;if(!t||0===t.length)return(0,s.jsx)("div",{className:"text-center py-8",children:"No data available for chart"});let b=t.map(e=>({timestamp:new Date(e.timestamp).toLocaleString(),[a]:e[a]}));return(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:r}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(l.u,{width:"100%",height:"100%",children:(0,s.jsxs)(i.b,{data:b,margin:{top:5,right:30,left:20,bottom:5},children:[(0,s.jsx)(n.d,{strokeDasharray:"3 3"}),(0,s.jsx)(d.W,{dataKey:"timestamp",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),(0,s.jsx)(o.h,{unit:x}),(0,s.jsx)(c.m,{labelFormatter:e=>"Time: ".concat(e),formatter:e=>["".concat(e).concat(x),r]}),(0,s.jsx)(m.s,{}),(0,s.jsx)(u.N,{type:"monotone",dataKey:a,stroke:h,activeDot:{r:8},name:r})]})})})]})}function x(e){let{data:t,onTimeRangeChange:a}=e,[l,i]=(0,r.useState)("24h"),[n,d]=(0,r.useState)("heart_rate"),[o,c]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),x=[{value:"heart_rate",label:"Heart Rate",unit:"BPM",color:"#ff4560"},{value:"spo2",label:"Blood Oxygen",unit:"%",color:"#008ffb"},{value:"body_temp_f",label:"Body Temperature",unit:"\xb0F",color:"#feb019"},{value:"temperature",label:"Room Temperature",unit:"\xb0C",color:"#00e396"},{value:"humidity",label:"Humidity",unit:"%",color:"#00d4bd"},{value:"air_quality",label:"Air Quality",unit:"ppm",color:"#9c27b0"},{value:"ecg_value",label:"ECG Value",unit:"mV",color:"#673ab7"}],b=e=>{i(e);let t=new Date,s=new Date;switch(e){case"24h":s=new Date(t.getTime()-864e5);break;case"7d":s=new Date(t.getTime()-6048e5);break;case"30d":s=new Date(t.getTime()-2592e6);break;case"custom":return}a(s,t)},g=x.find(e=>e.value===n);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sensor Type"}),(0,s.jsx)("select",{value:n,onChange:e=>d(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:x.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>b("24h"),className:"px-3 py-1 text-sm rounded-md ".concat("24h"===l?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:"24h"}),(0,s.jsx)("button",{onClick:()=>b("7d"),className:"px-3 py-1 text-sm rounded-md ".concat("7d"===l?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:"7d"}),(0,s.jsx)("button",{onClick:()=>b("30d"),className:"px-3 py-1 text-sm rounded-md ".concat("30d"===l?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:"30d"}),(0,s.jsx)("button",{onClick:()=>i("custom"),className:"px-3 py-1 text-sm rounded-md ".concat("custom"===l?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:"Custom"})]})]})]}),"custom"===l&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o&&m){let e=new Date(o),t=new Date(m);t.setHours(23,59,59,999),a(e,t)}},className:"flex gap-4 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:o,onChange:e=>c(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,s.jsx)("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Apply"})]})})]}),g&&(0,s.jsx)(h,{data:t,sensorType:n,title:g.label,color:g.color,unit:g.unit})]})}},30657:(e,t,a)=>{Promise.resolve().then(a.bind(a,5263))},33168:(e,t,a)=>{"use strict";a.d(t,{ND:()=>s,Od:()=>l,Wn:()=>r});let s=(0,a(10851).UU)("https://vitlxeoacmleuokomykj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpdGx4ZW9hY21sZXVva29teWtqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMzk4OTMsImV4cCI6MjA2MjgxNTg5M30.JdxEI3ouXLWIZQzV3jAakzDdYaRF63W1yIHM2W5Ph6o");async function r(){let{data:e,error:t}=await s.from("latest_sensor_data").select("*");return t?(console.error("Error fetching latest sensor data:",t),[]):e}async function l(e,t){let{data:a,error:r}=await s.from("sensor_readings").select("*").gte("timestamp",e.toISOString()).lte("timestamp",t.toISOString()).order("timestamp",{ascending:!0});return r?(console.error("Error fetching sensor data by time range:",r),[]):a}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,605,441,684,358],()=>t(30657)),_N_E=e.O()}]);